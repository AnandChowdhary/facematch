function doCamera(){console.log(_drawing.toDataURL())}function speakSentence(){var e="";e+="Unknown"==myName?"There is an unknown person in the image whose age is between ":myName+" is present in the image whose age is between ",e+=myAge.replace("-"," and "),alert(e)}function putAPI(){var e=_drawing.toDataURL(),t=prompt("Enter your full name");console.log("Name is "+t),$.ajax({url:"http://54.213.252.131/api/add_faces_crowd",type:"PUT",data:{imageURI:e,name:t},success:function(e){console.log(e)}})}var brfv4Example={appId:"facematch",loader:{queuePreloader:null},imageData:{webcam:{stream:null},picture:{}},dom:{},gui:{},drawing:{},drawing3d:{t3d:{}},stats:{}},brfv4={locateFile:function(e){return"js/libs/brf/BRFv4_JS_trial.js.mem"}};brfv4Example.start=function(){brfv4Example.loader.preload(["js/libs/brf/BRFv4_JS_trial.js","https://webrtc.github.io/adapter/adapter-latest.js","js/libs/quicksettings/quicksettings.min.css","js/libs/quicksettings/quicksettings.js","js/libs/createjs/easeljs-0.8.2.min.js","js/libs/threejs/three.js","js/utils/BRFv4DOMUtils.js","js/utils/BRFv4DrawingUtils_CreateJS.js","js/utils/BRFv4Drawing3DUtils_ThreeJS.js","js/utils/BRFv4SetupWebcam.js","js/utils/BRFv4SetupPicture.js","js/utils/BRFv4SetupExample.js","js/utils/BRFv4PointUtils.js"],function(){brfv4Example.init("webcam")})},brfv4Example.trace=function(e,t){if("undefined"!=typeof window&&window.console){var n=(window.performance.now()/1e3).toFixed(3);t?window.console.error(n+": ",e):window.console.log(n+": ",e)}},function(){"use strict";var e=brfv4Example.loader;e.preload=function(t,n){function a(e){}function i(e){n&&n()}if(null===e.queuePreloader&&t){var r=e.queuePreloader=new createjs.LoadQueue(!0);r.on("progress",a),r.on("complete",i),r.loadManifest(t,!0)}},e.loadExample=function(t,n){function a(e){n&&n()}var i=e.queueExamples=new createjs.LoadQueue(!0);i.on("progress",onProgress),i.on("complete",a),i.loadManifest(t,!0)}}();var p=0;setInterval(function(){1==p&&(p=0)},5e3),function e(){"use strict";brfv4Example.initCurrentExample=function(e,t){e.init(t,t,brfv4Example.appId)},brfv4Example.updateCurrentExample=function(e,t,n){e.update(t),n.clear();var a=e.getFaces(),i=new brfv4.Point,r=new brfv4.Point,s=brfv4.BRFv4PointUtils.setPoint,o=brfv4.BRFv4PointUtils.calcDistance,l=0;0==p&&(p=1);for(var c=0;c<a.length;c++){var u=a[c];if("state_face_detection"===u.state){var l=1;document.querySelector(".facebox").style.display="none",document.querySelector(".infofacebox").style.display="none"}s(u.vertices,48,i),s(u.vertices,54,r);var d=o(i,r);s(u.vertices,39,r),s(u.vertices,42,i);var m=o(i,r),f=d/m;f-=1.4,f>.25&&(f=.25),f<0&&(f=0),f*=4,f<0&&(f=0),f>1&&(f=1);var v="neutral";f>.5&&(v="kinda happy"),f>.8&&(v="very happy"),document.querySelector(".smilingfac").innerHTML=v;var b=((255*(1-f)&255)<<16)+((255*f&255)<<8),y=document.querySelector(".facebox-"+c);y||(y=document.createElement("div"),y.classList.add("facebox"),y.classList.add("facebox-"+c),document.body.appendChild(y)),y.style.left=document.querySelector("#_drawing").getBoundingClientRect().x+u.bounds.x+"px",y.style.top=document.querySelector("#_drawing").getBoundingClientRect().y-20+u.bounds.y+"px",y.style.height=u.bounds.height+"px",y.style.width=u.bounds.width+"px",0===l&&(y.style.display="block"),document.querySelector("#myName").innerHTML=myName,document.querySelector("#myAge").innerHTML=myAge;var g=myName.split(" ")[0],w=myName.split(" ")[0],x="https://www.linkedin.com/pub/dir/"+g+"/"+w;document.querySelector(".linkedinlink").setAttribute("href",x);var j=document.querySelector(".infofacebox-"+c);j||(j=document.createElement("div"),j.classList.add("infofacebox"),j.classList.add("infofacebox-"+c),document.body.appendChild(j)),j.innerHTML="Anand Chowdhary",j.style.left=document.querySelector("#_drawing").getBoundingClientRect().x+u.bounds.x+"px",j.style.top=document.querySelector("#_drawing").getBoundingClientRect().y+u.bounds.height+25+u.bounds.y+"px",0===l&&(j.style.display="block"),u.state!==brfv4.BRFState.FACE_TRACKING_START&&u.state!==brfv4.BRFState.FACE_TRACKING||(n.drawTriangles(u.vertices,u.triangles,!1,.5,b,.4),n.drawVertices(u.vertices,2,!1,b,.4))}}}(),window.onload=brfv4Example.start;var myName="Anand Chowdhary",myAge="20-25";